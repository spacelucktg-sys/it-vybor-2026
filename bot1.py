# -*- coding: utf-8 -*-
import logging
import ssl
import sqlite3
import threading
import json
import sys
import time
from datetime import datetime
from http.server import HTTPServer, BaseHTTPRequestHandler
from telegram import Update, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardRemove
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes, CallbackQueryHandler

# –û—Ç–∫–ª—é—á–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É SSL (—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Python –∏–∑ Microsoft Store)
ssl._create_default_https_context = ssl._create_unverified_context

TOKEN = "8553151496:AAGl4IMJHA7b_xFJLcrNGKvZBIKEWMPLZuM"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Render
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO,
    handlers=[
        logging.StreamHandler(sys.stdout),  # –î–ª—è Render
        logging.FileHandler('bot.log')      # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
    ]
)
logger = logging.getLogger(__name__)

# ========== HTTP –°–ï–†–í–ï–† –î–õ–Ø RENDER ==========

class HealthHandler(BaseHTTPRequestHandler):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è"""
    def do_GET(self):
        if self.path == '/healthz' or self.path == '/':
            self.send_response(200)
            self.send_header('Content-type', 'text/plain')
            self.end_headers()
            self.wfile.write(b'Bot is running on Render')
            logger.info(f"‚úÖ Health check –æ—Ç {self.address_string()}")
        else:
            self.send_response(404)
            self.end_headers()
    
    def log_message(self, format, *args):
        logger.debug(f"HTTP: {format % args}")

def start_health_server():
    """–ó–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è Render"""
    try:
        server = HTTPServer(('0.0.0.0', 8080), HealthHandler)
        logger.info("‚úÖ HTTP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080")
        server.serve_forever()
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ HTTP —Å–µ—Ä–≤–µ—Ä–∞: {e}")

# ========== –û–°–ù–û–í–ù–û–ô –ö–û–î –ë–û–¢–ê ==========

# üî• –¢–û–õ–¨–ö–û –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï IT-–°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–ò
IT_SPECIALTIES = {
    "üåê –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    "üì± –ú–æ–±–∏–ª—å–Ω—ã–π-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "–ú–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    "ü§ñ Data-Science": "Data Science",
    "üß† AI/ML-–ò–Ω–∂–µ–Ω–µ—Ä": "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
    "üîí –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": "–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
    "üéÆ GameDev": "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä",
    "‚öôÔ∏è DevOps-–ò–Ω–∂–µ–Ω–µ—Ä": "DevOps",
    "‚òÅÔ∏è Cloud-–ò–Ω–∂–µ–Ω–µ—Ä": "Cloud Engineer",
    "üíª Backend-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Backend",
    "üé® Frontend-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Frontend",
    "üë®‚Äçüíª Fullstack": "Full Stack",
    
    "üìä Data-–ê–Ω–∞–ª–∏—Ç–∏–∫": "Data Analyst",
    "üóÑÔ∏è –ê–¥–º–∏–Ω-–ë–î": "–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
    "üé® UI/UX-–î–∏–∑–∞–π–Ω–µ—Ä": "UI/UX –¥–∏–∑–∞–π–Ω",
    "üß™ QA-–ò–Ω–∂–µ–Ω–µ—Ä": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "‚ö° SRE-–ò–Ω–∂–µ–Ω–µ—Ä": "Site Reliability",
    "üîß Embedded": "Embedded —Å–∏—Å—Ç–µ–º—ã",
    "üëÅÔ∏è Computer-Vision": "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ",
    "üí¨ NLP-–ò–Ω–∂–µ–Ω–µ—Ä": "–û–±—Ä–∞–±–æ—Ç–∫–∞ —è–∑—ã–∫–∞",
    "üêç Python-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "‚òï Java-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Java —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "üöÄ Node.js": "Node.js —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "‚öõÔ∏è React": "React —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "ü¶Ä Rust-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Rust —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "üîÑ Go-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": "Go —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "üîê Pentester": "–≠—Ç–∏—á–Ω—ã–π —Ö–∞–∫–µ—Ä",
    "üì° –°–µ—Ç–µ–≤–æ–π-–ò–Ω–∂–µ–Ω–µ—Ä": "–°–µ—Ç–µ–≤–æ–π –∏–Ω–∂–µ–Ω–µ—Ä",
    "ü§ñ Blockchain": "Blockchain —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "üì± Flutter": "Flutter —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    "üì± React-Native": "React Native",
}

# üìö –ü–û–õ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ü–û –ö–ê–ñ–î–û–ô –°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–ò
SPECIALTY_DETAILS = {
    "üß† AI/ML-–ò–Ω–∂–µ–Ω–µ—Ä": """
üéØ –ò–°–ö–£–°–°–¢–í–ï–ù–ù–´–ô –ò–ù–¢–ï–õ–õ–ï–ö–¢ / –ú–ê–®–ò–ù–ù–û–ï –û–ë–£–ß–ï–ù–ò–ï

üìñ –°–£–¢–¨ –ü–†–û–§–ï–°–°–ò–ò:
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—É—á–µ–Ω–∏–µ –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π, —Ä–µ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å –ø–æ–º–æ—â—å—é –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –û—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Ä–æ–±–æ—Ç–æ–≤.

‚úÖ –ü–õ–Æ–°–´ –ü–†–û–§–ï–°–°–ò–ò:
‚Ä¢ –û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤—ã—Å–æ–∫–æ–æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö IT-–ø—Ä–æ—Ñ–µ—Å—Å–∏–π
‚Ä¢ –†–∞–±–æ—Ç–∞ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–º –∫—Ä–∞–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—à–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–∏—Ä–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
‚Ä¢ –í—ã—Å–æ–∫–∏–π –ø—Ä–µ—Å—Ç–∏–∂ –∏ –∫–∞—Ä—å–µ—Ä–Ω—ã–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ –Ω–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã

‚ùå –ú–ò–ù–£–°–´ –ò –°–õ–û–ñ–ù–û–°–¢–ò:
‚Ä¢ –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ä—å—ë–∑–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –æ–±—É—á–µ–Ω–∏—è (1.5-2 –≥–æ–¥–∞ –¥–æ –ø–µ—Ä–≤–æ–π —Ä–∞–±–æ—Ç—ã)
‚Ä¢ –ë—ã—Å—Ç—Ä–æ–µ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
‚Ä¢ –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ —Ä—É—Ç–∏–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
‚Ä¢ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–¥–µ–ª–µ–π

üí∞ –ó–ê–†–ü–õ–ê–¢–´ 2026 (–ú–æ—Å–∫–≤–∞):
‚Ä¢ Junior AI Engineer: 120,000 - 180,000 ‚ÇΩ
‚Ä¢ Middle AI Engineer: 220,000 - 380,000 ‚ÇΩ
‚Ä¢ Senior AI Engineer: 400,000 - 700,000 ‚ÇΩ
‚Ä¢ Lead AI/ML Researcher: 600,000 - 1,000,000+ ‚ÇΩ

üìä –°–ü–†–û–° –ù–ê –†–´–ù–ö–ï:
üî• –í–´–°–û–ö–ò–ô - –∫–æ–º–ø–∞–Ω–∏–∏ –≤—Å–µ—Ö –æ—Ç—Ä–∞—Å–ª–µ–π –≤–Ω–µ–¥—Ä—è—é—Ç AI

---

üöÄ –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –û–ë–£–ß–ï–ù–ò–Ø (12-18 –º–µ—Å—è—Ü–µ–≤):

üìò –®–ê–ì 1: –§–£–ù–î–ê–ú–ï–ù–¢ (3-4 –º–µ—Å—è—Ü–∞)
‚Ä¢ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: –ª–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞, —Ç–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚Ä¢ –û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Python
‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏: NumPy, Pandas, SQL
‚Ä¢ –û—Å–Ω–æ–≤—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

üìó –®–ê–ì 2: –û–°–ù–û–í–´ ML (4-5 –º–µ—Å—è—Ü–µ–≤)
‚Ä¢ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
‚Ä¢ Scikit-learn –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
‚Ä¢ Feature engineering –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚Ä¢ –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á —Ä–µ–≥—Ä–µ—Å—Å–∏–∏, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

üìï –®–ê–ì 3: –ì–õ–£–ë–û–ö–û–ï –û–ë–£–ß–ï–ù–ò–ï (4-5 –º–µ—Å—è—Ü–µ–≤)
‚Ä¢ –ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚Ä¢ TensorFlow / PyTorch —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
‚Ä¢ Computer Vision (CNN, –æ–±—ä–µ–∫—Ç–Ω–æ–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚Ä¢ Natural Language Processing (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã, BERT)
‚Ä¢ –†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ —Å–µ—Ç–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤

üìô –®–ê–ì 4: –ü–†–û–î–í–ò–ù–£–¢–´–ï –¢–ï–ú–´ –ò –ü–†–û–ï–ö–¢–´ (4-6 –º–µ—Å—è—Ü–µ–≤)
‚Ä¢ MLOps: deployment –º–æ–¥–µ–ª–µ–π –≤ production
‚Ä¢ AutoML –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (GAN, Diffusion)
‚Ä¢ –û–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º
‚Ä¢ Kaggle competitions –∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

---

üõ†Ô∏è –¢–ï–•–ù–û–õ–û–ì–ò–ò –ò –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ 2026:
‚Ä¢ –Ø–∑—ã–∫–∏: Python (–æ—Å–Ω–æ–≤–Ω–æ–π), R, Julia
‚Ä¢ –§—Ä–µ–π–º–≤–æ—Ä–∫–∏: PyTorch, TensorFlow, JAX, Hugging Face
‚Ä¢ –û–±–ª–∞–∫–∞: AWS SageMaker, Google Vertex AI, Azure ML
‚Ä¢ MLOps: MLflow, Kubeflow, DVC, Weights & Biases
‚Ä¢ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: Matplotlib, Seaborn, Plotly, Streamlit

---

üìö –†–ï–°–£–†–°–´ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø:

üîó HABR (–°–¢–ê–¢–¨–ò –ò –ê–ù–ê–õ–ò–ó):
‚Ä¢ https://habr.com/ru/hub/machine_learning/ - –≤—Å–µ –æ–± ML
‚Ä¢ https://habr.com/ru/articles/754868/ - MLOps –≤ 2026
‚Ä¢ https://habr.com/ru/companies/neurohive/articles/789012/ - –¢—Ä–µ–Ω–¥—ã AI 2026

üîó GITHUB (–ü–†–û–ï–ö–¢–´ –ò –ö–û–î):
‚Ä¢ https://github.com/ageron/handson-ml3 - Hands-on ML 3rd edition
‚Ä¢ https://github.com/microsoft/ML-For-Beginners - ML –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
‚Ä¢ https://github.com/huggingface/transformers - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤

üéì –ö–£–†–°—ã (–û–ß–ï–†–ï–î–¨ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø):
1. Coursera: "Machine Learning" –æ—Ç Andrew Ng (–°—Ç—ç–Ω—Ñ–æ—Ä–¥)
2. fast.ai: "Practical Deep Learning for Coders"
3. DeepLearning.ai: "Deep Learning Specialization"
4. Kaggle Learn: –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–∏–∫—Ä–æ-–∫—É—Ä—Å—ã
5. –Ø–Ω–¥–µ–∫—Å –ü—Ä–∞–∫—Ç–∏–∫—É–º: "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ Data Science"

üìö –ö–ù–ò–ì–ò:
‚Ä¢ "Deep Learning" Ian Goodfellow, Yoshua Bengio, Aaron Courville
‚Ä¢ "Pattern Recognition and Machine Learning" Christopher Bishop
‚Ä¢ "–ì—Ä–æ–∫–∞–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º—ã" –ê–¥–∏—Ç—å—è –ë—Ö–∞—Ä–≥–∞–≤–∞
‚Ä¢ "Python –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á" –£—ç—Å –ú–∞–∫–∫–∏–Ω–Ω–∏

üë• –°–û–û–ë–©–ï–°–¢–í–ê:
‚Ä¢ Kaggle - —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥
‚Ä¢ ODS.ai - —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–µ ML —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
‚Ä¢ Reddit: r/MachineLearning, r/deeplearning
‚Ä¢ –¢–ì-–∫–∞–Ω–∞–ª—ã: @ai_machinelearning_best, @pydata

---

üéØ –ü–†–û–ï–ö–¢–´ –î–õ–Ø –ü–û–†–¢–§–û–õ–ò–û:
1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Cats vs Dogs –Ω–∞ Kaggle)
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é GPT/DALL-E
3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ñ–∏–ª—å–º–æ–≤/—Ç–æ–≤–∞—Ä–æ–≤
4. –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –≤–∏–¥–µ–æ (YOLO)
5. –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–∑—ã–≤–æ–≤ (NLP)
6. –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ (–±–∏—Ç–∫–æ–∏–Ω, –∞–∫—Ü–∏–∏)
7. –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —á–∞—Ç–ë–æ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤

---

üìà –ö–ê–†–¨–ï–†–ù–´–ô –†–û–°–¢:
‚Ä¢ Junior ML Engineer ‚Üí Middle ML Engineer ‚Üí Senior ML Engineer ‚Üí Lead AI Scientist
‚Ä¢ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—É—Ç–∏:
  - Research Scientist (–∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)
  - MLOps Engineer (—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π)
  - Computer Vision / NLP Specialist (—É–∑–∫–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
  - AI Product Manager (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏)

---

üìä –†–´–ù–û–ö –¢–†–£–î–ê 2026:
–°–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤ 3 —Ä–∞–∑–∞. –û—Å–æ–±–µ–Ω–Ω–æ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω—ã:
‚Ä¢ Senior —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã —Å –æ–ø—ã—Ç–æ–º production
‚Ä¢ –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø–æ Computer Vision –∏ NLP
‚Ä¢ MLOps –∏–Ω–∂–µ–Ω–µ—Ä—ã
‚Ä¢ –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ generative AI

–¢—Ä–µ–Ω–¥—ã 2026: –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏, –º–∞–ª–µ–Ω—å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Small Language Models), AI –¥–ª—è edge-—É—Å—Ç—Ä–æ–π—Å—Ç–≤, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π AI (Ethical AI).

---

üí° –ï–°–¢–¨ –õ–ò –°–ú–´–°–õ –ò–î–¢–ò –í AI/ML –í 2026?

‚úÖ –î–ê, –ï–°–õ–ò:
‚Ä¢ –í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑
‚Ä¢ –ì–æ—Ç–æ–≤—ã —É—á–∏—Ç—å—Å—è 1.5-2 –≥–æ–¥–∞ —Å–µ—Ä—å–µ–∑–Ω–æ
‚Ä¢ –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
‚Ä¢ –ù–µ –±–æ–∏—Ç–µ—Å—å —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
‚Ä¢ –•–æ—Ç–∏—Ç–µ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –≤—ã—Å–æ–∫–∏—Ö –∑–∞—Ä–ø–ª–∞—Ç –≤ IT

‚ùå –ù–ï–¢, –ï–°–õ–ò:
‚Ä¢ –ò—â–µ—Ç–µ –±—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –≤ IT (–ª—É—á—à–µ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
‚Ä¢ –ù–µ –ª—é–±–∏—Ç–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫—É
‚Ä¢ –•–æ—Ç–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
‚Ä¢ –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

‚ö†Ô∏è –°–†–ï–î–ù–Ø–Ø –°–õ–û–ñ–ù–û–°–¢–¨ –í–•–û–î–ê: 9/10
‚ö†Ô∏è –ü–ï–†–°–ü–ï–ö–¢–ò–í–´ –†–û–°–¢–ê: 10/10
‚ö†Ô∏è –£–†–û–í–ï–ù–¨ –ó–ê–†–ü–õ–ê–¢: 10/10

---

üë®‚Äçüíª –í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: @krylov19
    """,
    
    "üåê –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": """
üéØ –í–ï–ë-–†–ê–ó–†–ê–ë–û–¢–ö–ê

üìñ –°–£–¢–¨ –ü–†–û–§–ï–°–°–ò–ò:
–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-—Å–∞–π—Ç–æ–≤, –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å—Ç—ã–∫–µ –¥–∏–∑–∞–π–Ω–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

‚úÖ –ü–õ–Æ–°–´:
‚Ä¢ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3-6 –º–µ—Å—è—Ü–µ–≤ –¥–æ –ø–µ—Ä–≤–æ–π —Ä–∞–±–æ—Ç—ã)
‚Ä¢ –û–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π
‚Ä¢ –ë–æ–ª—å—à–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏
‚Ä¢ –ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ
‚Ä¢ –ú–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

‚ùå –ú–ò–ù–£–°–´:
‚Ä¢ –í—ã—Å–æ–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è —Å—Ä–µ–¥–∏ –¥–∂—É–Ω–∏–æ—Ä–æ–≤
‚Ä¢ –ë—ã—Å—Ç—Ä–æ —É—Å—Ç–∞—Ä–µ–≤–∞—é—â–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
‚Ä¢ –ù—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—á–∏—Ç—å—Å—è
‚Ä¢ –ú–æ–≥—É—Ç –±—ã—Ç—å –∂–µ—Å—Ç–∫–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã

üí∞ –ó–ê–†–ü–õ–ê–¢–´ 2026:
‚Ä¢ Junior: 50,000 - 80,000 ‚ÇΩ
‚Ä¢ Middle: 100,000 - 180,000 ‚ÇΩ  
‚Ä¢ Senior: 200,000 - 350,000 ‚ÇΩ
‚Ä¢ Lead: 300,000 - 500,000 ‚ÇΩ

üìä –°–ü–†–û–°: üî• –í–´–°–û–ö–ò–ô

---

üöÄ –ü–õ–ê–ù –û–ë–£–ß–ï–ù–ò–Ø (6-9 –º–µ—Å—è—Ü–µ–≤):
1. HTML/CSS, –≤–µ—Ä—Å—Ç–∫–∞ (1 –º–µ—Å—è—Ü)
2. JavaScript –æ—Å–Ω–æ–≤—ã (1 –º–µ—Å—è—Ü)
3. React/Vue/Angular (2 –º–µ—Å—è—Ü–∞)
4. Backend (Node.js/Python) (2 –º–µ—Å—è—Ü–∞)
5. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, Git, –¥–µ–ø–ª–æ–π (2 –º–µ—Å—è—Ü–∞)

---

üõ†Ô∏è –¢–ï–•–ù–û–õ–û–ì–ò–ò:
Frontend: HTML5, CSS3, JavaScript, React, Vue, TypeScript
Backend: Node.js, Python, Java, PHP
–ë–∞–∑—ã: PostgreSQL, MongoDB, Redis
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: Git, Docker, Webpack, Figma

---

üìö –†–ï–°–£–†–°–´:
Habr: https://habr.com/ru/hub/webdev/
GitHub: https://github.com/public-apis/public-apis
–ö—É—Ä—Å—ã: freeCodeCamp, The Odin Project, Hexlet
–ö–Ω–∏–≥–∏: "–í—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ JS", "–ß–∏—Å—Ç—ã–π –∫–æ–¥"

---

üéØ –ü–†–û–ï–ö–¢–´:
1. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
2. –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
3. –ë–ª–æ–≥ —Å CMS
4. –ß–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
5. –î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏

---

üë®‚Äçüíª –í–æ–ø—Ä–æ—Å—ã: @krylov19
    """,
    
    "ü§ñ Data-Science": """
üéØ DATA SCIENCE

üìñ –°–£–¢–¨ –ü–†–û–§–ï–°–°–ò–ò:
–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ insights.

‚úÖ –ü–õ–Æ–°–´:
‚Ä¢ –í—ã—Å–æ–∫–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã
‚Ä¢ –í–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤–æ –≤—Å–µ—Ö –æ—Ç—Ä–∞—Å–ª—è—Ö
‚Ä¢ –ù–∞—É—á–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è
‚Ä¢ –ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –¥–æ Chief Data Officer

‚ùå –ú–ò–ù–£–°–´:
‚Ä¢ –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞
‚Ä¢ –ú–Ω–æ–≥–æ —Ä—É—Ç–∏–Ω—ã —Å –¥–∞–Ω–Ω—ã–º–∏
‚Ä¢ –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚Ä¢ –¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

üí∞ –ó–ê–†–ü–õ–ê–¢–´ 2026:
‚Ä¢ Junior: 80,000 - 120,000 ‚ÇΩ
‚Ä¢ Middle: 150,000 - 250,000 ‚ÇΩ
‚Ä¢ Senior: 300,000 - 500,000 ‚ÇΩ
‚Ä¢ Lead: 450,000 - 700,000 ‚ÇΩ

üìä –°–ü–†–û–°: üî• –í–´–°–û–ö–ò–ô

---

üöÄ –ü–õ–ê–ù –û–ë–£–ß–ï–ù–ò–Ø (12-15 –º–µ—Å—è—Ü–µ–≤):
1. –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ + Python (3 –º–µ—Å—è—Ü–∞)
2. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (Pandas, SQL) (3 –º–µ—Å—è—Ü–∞)
3. –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (Scikit-learn) (4 –º–µ—Å—è—Ü–∞)
4. Deep Learning + –ø—Ä–æ–µ–∫—Ç—ã (5 –º–µ—Å—è—Ü–∞)

---

üõ†Ô∏è –¢–ï–•–ù–û–õ–û–ì–ò–ò:
Python, R, SQL, Pandas, NumPy, Scikit-learn, TensorFlow, PyTorch, Spark, Tableau

---

üìö –†–ï–°–£–†–°–´:
Habr: https://habr.com/ru/hub/machine_learning/
GitHub: https://github.com/ageron/handson-ml2
–ö—É—Ä—Å—ã: Coursera ML, fast.ai, Kaggle Learn
–ö–Ω–∏–≥–∏: "Python –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á"

---

üéØ –ü–†–û–ï–ö–¢–´:
1. –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
2. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
4. NLP –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤
5. Kaggle competition

---

üë®‚Äçüíª –í–æ–ø—Ä–æ—Å—ã: @krylov19
    """,
    
    "üîí –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": """
üéØ –ö–ò–ë–ï–†–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

üìñ –°–£–¢–¨ –ü–†–û–§–ï–°–°–ò–ò:
–ó–∞—â–∏—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∞–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ.

‚úÖ –ü–õ–Æ–°–´:
‚Ä¢ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç—É—â–∏–π —Å–ø—Ä–æ—Å
‚Ä¢ –í—ã—Å–æ–∫–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã
‚Ä¢ –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π
‚Ä¢ Bug bounty –ø—Ä–æ–≥—Ä–∞–º–º—ã

‚ùå –ú–ò–ù–£–°–´:
‚Ä¢ –í—ã—Å–æ–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–æ–≤—ã–µ —É–≥—Ä–æ–∑—ã
‚Ä¢ –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–µ—Å—Å
‚Ä¢ –¢—Ä–µ–±—É–µ—Ç —à–∏—Ä–æ–∫–æ–≥–æ –∫—Ä—É–≥–æ–∑–æ—Ä–∞

üí∞ –ó–ê–†–ü–õ–ê–¢–´ 2026:
‚Ä¢ Junior: 70,000 - 110,000 ‚ÇΩ
‚Ä¢ Middle: 130,000 - 220,000 ‚ÇΩ
‚Ä¢ Senior: 250,000 - 450,000 ‚ÇΩ
‚Ä¢ Lead: 400,000 - 600,000 ‚ÇΩ

üìä –°–ü–†–û–°: üî• –í–´–°–û–ö–ò–ô

---

üöÄ –ü–õ–ê–ù –û–ë–£–ß–ï–ù–ò–Ø (10-12 –º–µ—Å—è—Ü–µ–≤):
1. –û—Å–Ω–æ–≤—ã —Å–µ—Ç–µ–π + Linux (2 –º–µ—Å—è—Ü–∞)
2. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (Python) (2 –º–µ—Å—è—Ü–∞)
3. Web —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (3 –º–µ—Å—è—Ü–∞)
4. Pentesting + CTF (3 –º–µ—Å—è—Ü–∞)
5. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (2 –º–µ—Å—è—Ü–∞)

---

üõ†Ô∏è –¢–ï–•–ù–û–õ–û–ì–ò–ò:
Kali Linux, Metasploit, Burp Suite, Wireshark, Nmap, Python, Bash, AWS Security

---

üìö –†–ï–°–£–†–°–´:
Habr: https://habr.com/ru/hub/infosecurity/
GitHub: https://github.com/swisskyrepo/PayloadsAllTheThings
–ö—É—Ä—Å—ã: TryHackMe, Hack The Box, PentesterLab
–ö–Ω–∏–≥–∏: "Hacking: The Art of Exploitation"

---

üéØ –ü–†–û–ï–ö–¢–´:
1. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏
2. CTF —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
3. Write-up –Ω–∞–π–¥–µ–Ω–Ω–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏
4. Bug bounty –æ—Ç—á–µ—Ç
5. –°–∏–º—É–ª—è—Ü–∏—è –∞—Ç–∞–∫–∏/–∑–∞—â–∏—Ç—ã

---

üë®‚Äçüíª –í–æ–ø—Ä–æ—Å—ã: @krylov19
    """,
}

# –¢–µ–∫—Å—Ç –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
INFO_IN_DEVELOPMENT = """
üìù –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!

–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –¥–µ—Ç–∞–ª—å–Ω—ã–º —Ä–∞–∑–±–æ—Ä–æ–º –∫–∞–∂–¥–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –ø–ª—é—Å–æ–≤/–º–∏–Ω—É—Å–æ–≤
‚Ä¢ –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è
‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
‚Ä¢ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞—Ä–∞–±–æ—Ç–Ω—ã–µ –ø–ª–∞—Ç—ã 

–•–æ—Ç–∏—Ç–µ —É—Å–∫–æ—Ä–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏?
–ù–∞–ø–∏—à–∏—Ç–µ @krylov19
"""

# –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
FIRST_START_MESSAGE = """–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í IT –í–´–ë–û–† 2026! üöÄ

–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º –≤—ã–±—Ä–∞—Ç—å IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º.

–ú—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –¥–∞—ë–º –ø–æ—à–∞–≥–æ–≤—ã–µ –ø–ª–∞–Ω—ã –æ–±—É—á–µ–Ω–∏—è.

‚ö†Ô∏è –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –º—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤—Å–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º.

–£–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è 4 —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, –æ—Å—Ç–∞–ª—å–Ω—ã–µ 26 –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å—Ç–µ–ª—å–Ω–æ."""

# –¢–µ–∫—Å—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û –ø—Ä–æ–µ–∫—Ç–µ"
ABOUT_PROJECT = """
–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í IT –í–´–ë–û–† 2026! üöÄ

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–ê:
‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π: 30
‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π: 4
‚Ä¢ –¢–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ IT-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ 2026 –≥–æ–¥–∞

üéØ –ü–û–õ–ù–´–ô –†–ê–ó–ë–û–† –ö–ê–ñ–î–û–ô –°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–ò:

üïØ –ê–Ω–∞–ª–∏–∑ –ø–ª—é—Å–æ–≤ –∏ –º–∏–Ω—É—Å–æ–≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

üíµ –ü–æ–∫–∞–∂–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã Junior/Middle/Senior

üóì –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è (—Å 0 –¥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

üëÄ –ü–æ–¥–±–æ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (Habr, GitHub, –ø–æ–ª–µ–∑–Ω—ã–µ –∫—É—Ä—Å—ã)

üåê –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

‚úèÔ∏è –ü—Ä–æ–µ–∫—Ç—ã –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ

üìà –ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã

ü§î –ö–ê–ö –ú–´ –ë–£–î–ï–ú –†–ê–ó–í–ò–í–ê–¢–¨–°–Ø?

1Ô∏è‚É£ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–ø–æ–ª–Ω–∏–º –í–°–ï 30 —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π

2Ô∏è‚É£ –ë—É–¥–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤–∞—à–∏–º –∑–∞–ø—Ä–æ—Å–∞–º

3Ô∏è‚É£ –î–æ–±–∞–≤–∏–º —Ç–µ—Å—Ç—ã –Ω–∞ –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –≤ IT

4Ô∏è‚É£ –°–æ–∑–¥–∞–¥–∏–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã –æ–±—É—á–µ–Ω–∏—è

5Ô∏è‚É£ –í–≤–µ–¥–µ–º —Å–∏—Å—Ç–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π

üéØ –ù–ê–®–ê –ì–õ–ê–í–ù–ê–Ø –¶–ï–õ–¨:
–ü–æ–º–æ—á—å –∫–∞–∂–¥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –Ω–∞–π—Ç–∏ —Å–≤–æ—é –∏–¥–µ–∞–ª—å–Ω—É—é IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, 
–æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –Ω–∞–≤—ã–∫–∞—Ö, –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ —Ä—ã–Ω–æ—á–Ω–æ–º —Å–ø—Ä–æ—Å–µ!

üë®‚Äçüíª –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –∏–¥–µ–π: @krylov19

üéØ –£–ñ–ï –î–û–°–¢–£–ü–ù–´ –î–õ–Ø –ò–ó–£–ß–ï–ù–ò–Ø:
‚Ä¢ üß† AI/ML-–ò–Ω–∂–µ–Ω–µ—Ä
‚Ä¢ üåê –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫  
‚Ä¢ ü§ñ Data-Science
‚Ä¢ üîí –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

üöÄ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ."""

# ========== –¢–ï–°–¢ –î–õ–Ø –í–´–ë–û–†–ê IT-–ü–†–û–§–ï–°–°–ò–ò ==========

TEST_QUESTIONS = {
    "module1": {
        "name": "–õ–∏—á–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è",
        "questions": [
            {
                "id": "q1",
                "text": "üéØ –ö–∞–∫ –±—ã –≤—ã –ø—Ä–µ–¥–ø–æ—á–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å?",
                "options": {
                    "1": "üé® –í –æ–¥–∏–Ω–æ—á–∫—É, —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–Ω–æ –Ω–∞–¥ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ–π",
                    "2": "üë• –í –∫–æ–º–∞–Ω–¥–µ, –æ–±—â–∞—è—Å—å –∏ –æ–±—Å—É–∂–¥–∞—è –∏–¥–µ–∏", 
                    "3": "üìä –ê–Ω–∞–ª–∏–∑–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã—è–≤–ª—è—è –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏",
                    "4": "üîß –†–µ—à–∞—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
                    "5": "üé≠ –í –¥–∏–Ω–∞–º–∏—á–Ω–æ–π —Å—Ä–µ–¥–µ —Å —á–∞—Å—Ç—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏"
                }
            },
            {
                "id": "q2", 
                "text": "üéØ –ß—Ç–æ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ?",
                "options": {
                    "1": "–°–æ–∑–¥–∞–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –≤–∏–¥–∏–º–æ–µ –∏ –∫—Ä–∞—Å–∏–≤–æ–µ",
                    "2": "–ü—Ä–æ–¥—É–º—ã–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º",
                    "3": "–ù–∞—Ö–æ–¥–∏—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
                    "4": "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ª—É—á—à–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã",
                    "5": "–ü–æ–º–æ–≥–∞—Ç—å –ª—é–¥—è–º —Ä–µ—à–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã"
                }
            },
            {
                "id": "q3",
                "text": "üéØ –ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤–∞–º –±–ª–∏–∂–µ?",
                "options": {
                    "1": "üé® –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π, –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–π",
                    "2": "‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–π, –ª–æ–≥–∏—á–µ—Å–∫–∏–π",
                    "3": "üîç –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π",
                    "4": "üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π, –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π",
                    "5": "üí¨ –ö–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã–π, –æ–±—ä—è—Å–Ω—è—é—â–∏–π"
                }
            }
        ]
    },
    "module2": {
        "name": "–ù–∞–≤—ã–∫–∏ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏",
        "questions": [
            {
                "id": "q4",
                "text": "üéØ –í–∞—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ:",
                "options": {
                    "1": "üò´ –°—Ç–∞—Ä–∞—é—Å—å –∏–∑–±–µ–≥–∞—Ç—å",
                    "2": "üòê –ú–æ–≥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤—ã",
                    "3": "ü§î –ù—Ä–∞–≤–∏—Ç—Å—è –ª–æ–≥–∏–∫–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã",
                    "4": "üßÆ –£–≤–µ—Ä–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é —Å —á–∏—Å–ª–∞–º–∏",
                    "5": "üìà –û–±–æ–∂–∞—é —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"
                }
            },
            {
                "id": "q5",
                "text": "üéØ –ö–∞–∫ –≤—ã –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é?",
                "options": {
                    "1": "üëÅ –ó–∞–º–µ—á–∞—é –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è",
                    "2": "üé® –í–∏–∂—É –æ–±—â—É—é –≥–∞—Ä–º–æ–Ω–∏—é –∏ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è",
                    "3": "üìê –ú—ã—Å–ª—é –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ —Å—Ö–µ–º",
                    "4": "üìä –õ–µ–≥–∫–æ —á–∏—Ç–∞—é –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã",
                    "5": "üéØ –§–æ–∫—É—Å–∏—Ä—É—é—Å—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –Ω–∞ –∫—Ä–∞—Å–æ—Ç–µ"
                }
            },
            {
                "id": "q6",
                "text": "üéØ –í–∞—à —É—Ä–æ–≤–µ–Ω—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ:",
                "options": {
                    "1": "‚ùå –ë–∞–∑–æ–≤—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
                    "2": "üìö –ß–∏—Ç–∞—é —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º",
                    "3": "üìñ –°–≤–æ–±–æ–¥–Ω–æ —á–∏—Ç–∞—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é",
                    "4": "üí¨ –ú–æ–≥—É –æ–±—â–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã",
                    "5": "üó£ –°–≤–æ–±–æ–¥–Ω–æ –≥–æ–≤–æ—Ä—é –∏ –ø–∏—à—É"
                }
            }
        ]
    },
    "module3": {
        "name": "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è",
        "questions": [
            {
                "id": "q7",
                "text": "üéØ –ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ?",
                "options": {
                    "1": "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Üí —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí —É–ª—É—á—à–∞—Ç—å",
                    "2": "–ü–∏—Å–∞—Ç—å –∫–æ–¥ ‚Üí —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏",
                    "3": "–°–æ–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Üí –¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã",
                    "4": "–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—ã ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å",
                    "5": "–û–±—â–∞—Ç—å—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ ‚Üí –ø–æ–Ω–∏–º–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è"
                }
            },
            {
                "id": "q8",
                "text": "üéØ –ö–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç?",
                "options": {
                    "1": "–í–µ–±-—Å–∞–π—Ç—ã –∏ –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
                    "2": "–°–µ—Ä–≤–∏—Å—ã –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã",
                    "3": "–°–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è",
                    "4": "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–µ—Ç–∏",
                    "5": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–±—É—á–µ–Ω–∏–µ"
                }
            },
            {
                "id": "q9",
                "text": "üéØ –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ—Ç–æ–≤—ã —É–¥–µ–ª—è—Ç—å –æ–±—É—á–µ–Ω–∏—é:",
                "options": {
                    "1": "2-4 —á–∞—Å–∞ –≤ –Ω–µ–¥–µ–ª—é",
                    "2": "5-10 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é",
                    "3": "10-20 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é",
                    "4": "20-30 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é",
                    "5": "–ì–æ—Ç–æ–≤ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é (30+ —á–∞—Å–æ–≤)"
                }
            }
        ]
    },
    "module4": {
        "name": "–¶–µ–ª–∏ –∏ –æ–∂–∏–¥–∞–Ω–∏—è",
        "questions": [
            {
                "id": "q10",
                "text": "üéØ –ö–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å?",
                "options": {
                    "1": "üìÖ –ß–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤",
                    "2": "üìÖ –ß–µ—Ä–µ–∑ 6-12 –º–µ—Å—è—Ü–µ–≤",
                    "3": "üìÖ –ß–µ—Ä–µ–∑ 1-2 –≥–æ–¥–∞",
                    "4": "üìÖ –ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ –≤—Ä–µ–º–µ–Ω–∏, —Ö–æ—á—É –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å",
                    "5": "üíº –£–∂–µ –∏—â—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∏"
                }
            },
            {
                "id": "q11",
                "text": "üéØ –ö–∞–∫–∏–µ –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ 1-2 –≥–æ–¥–∞?",
                "options": {
                    "1": "‚ÇΩ 50-80 —Ç—ã—Å. (–Ω–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)",
                    "2": "‚ÇΩ 80-120 —Ç—ã—Å. (–¥–∂—É–Ω)",
                    "3": "‚ÇΩ 120-200 —Ç—ã—Å. (–º–∏–¥–ª)",
                    "4": "‚ÇΩ 200-350 —Ç—ã—Å. (—Å–µ–Ω—å–æ—Ä)",
                    "5": "üíé 350+ —Ç—ã—Å. (—ç–∫—Å–ø–µ—Ä—Ç/–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä)"
                }
            },
            {
                "id": "q12",
                "text": "üéØ –ß—Ç–æ –≤–∞–∂–Ω–æ –≤ –∫–∞—Ä—å–µ—Ä–µ?",
                "options": {
                    "1": "‚ö°Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –ø–µ—Ä–≤—ã–µ –¥–µ–Ω—å–≥–∏",
                    "2": "üìà –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",
                    "3": "üéØ –ì–ª—É–±–æ–∫–∏–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏",
                    "4": "üë®‚Äçüíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π/–ø—Ä–æ–µ–∫—Ç–∞–º–∏",
                    "5": "üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞/—Å—Ç–∞—Ä—Ç–∞–ø–∞"
                }
            }
        ]
    }
}

# –í–µ—Å–∞ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
ANSWER_WEIGHTS = {
    # –ú–æ–¥—É–ª—å 1
    "q1": {
        "1": {"frontend": 2, "backend": 1, "qa": 3},
        "2": {"frontend": 3, "backend": 2, "devops": 1},
        "3": {"data": 3, "ai": 2, "backend": 1},
        "4": {"backend": 3, "devops": 2, "cyber": 2},
        "5": {"frontend": 2, "devops": 3, "qa": 1}
    },
    "q2": {
        "1": {"frontend": 3, "design": 3},
        "2": {"backend": 3, "fullstack": 2},
        "3": {"data": 3, "ai": 2},
        "4": {"devops": 3, "backend": 2},
        "5": {"qa": 3, "support": 2}
    },
    "q3": {
        "1": {"frontend": 3, "design": 3},
        "2": {"backend": 3, "devops": 2},
        "3": {"data": 3, "ai": 2},
        "4": {"mobile": 2, "embedded": 3},
        "5": {"qa": 2, "management": 3}
    },
    # –ú–æ–¥—É–ª—å 2
    "q4": {
        "1": {"frontend": 1, "design": 1},
        "2": {"frontend": 2, "mobile": 2},
        "3": {"backend": 2, "devops": 2},
        "4": {"data": 3, "backend": 2},
        "5": {"ai": 3, "data": 3}
    },
    "q5": {
        "1": {"qa": 3, "frontend": 2},
        "2": {"design": 3, "frontend": 2},
        "3": {"backend": 3, "devops": 2},
        "4": {"data": 3, "ai": 2},
        "5": {"backend": 2, "devops": 3}
    },
    "q6": {
        "1": {"all": 1},
        "2": {"all": 2},
        "3": {"all": 3},
        "4": {"all": 4},
        "5": {"all": 5}
    },
    # –ú–æ–¥—É–ª—å 3
    "q7": {
        "1": {"frontend": 3, "design": 2},
        "2": {"backend": 3, "mobile": 2},
        "3": {"data": 3, "ai": 2},
        "4": {"devops": 3, "sre": 2},
        "5": {"qa": 3, "support": 2}
    },
    "q8": {
        "1": {"frontend": 3, "mobile": 3},
        "2": {"backend": 3, "fullstack": 2},
        "3": {"data": 3, "ai": 2},
        "4": {"devops": 3, "cyber": 2},
        "5": {"qa": 2, "support": 3}
    },
    "q9": {
        "1": {"all": 1},
        "2": {"all": 2},
        "3": {"all": 3},
        "4": {"all": 4},
        "5": {"all": 5}
    },
    # –ú–æ–¥—É–ª—å 4
    "q10": {
        "1": {"frontend": 3, "mobile": 2},
        "2": {"all": 2},
        "3": {"data": 2, "ai": 3},
        "4": {"all": 1},
        "5": {"all": 3}
    },
    "q11": {
        "1": {"all": 1},
        "2": {"all": 2},
        "3": {"all": 3},
        "4": {"ai": 3, "data": 3, "devops": 3},
        "5": {"ai": 5, "cyber": 4, "sre": 4}
    },
    "q12": {
        "1": {"frontend": 3, "mobile": 2},
        "2": {"backend": 2, "qa": 3},
        "3": {"ai": 3, "data": 3, "cyber": 3},
        "4": {"all": 2},
        "5": {"all": 1}
    }
}

# –ú–∞–ø–ø–∏–Ω–≥ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
SPECIALTY_CATEGORIES = {
    "frontend": ["üé® Frontend-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "üåê –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "‚öõÔ∏è React", "üì± React-Native", "üì± Flutter"],
    "backend": ["üíª Backend-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "üêç Python-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "‚òï Java-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "üöÄ Node.js", "ü¶Ä Rust-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "üîÑ Go-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"],
    "data": ["üìä Data-–ê–Ω–∞–ª–∏—Ç–∏–∫", "ü§ñ Data-Science", "üóÑÔ∏è –ê–¥–º–∏–Ω-–ë–î"],
    "ai": ["üß† AI/ML-–ò–Ω–∂–µ–Ω–µ—Ä", "üëÅÔ∏è Computer-Vision", "üí¨ NLP-–ò–Ω–∂–µ–Ω–µ—Ä"],
    "devops": ["‚öôÔ∏è DevOps-–ò–Ω–∂–µ–Ω–µ—Ä", "‚òÅÔ∏è Cloud-–ò–Ω–∂–µ–Ω–µ—Ä", "‚ö° SRE-–ò–Ω–∂–µ–Ω–µ—Ä", "üì° –°–µ—Ç–µ–≤–æ–π-–ò–Ω–∂–µ–Ω–µ—Ä"],
    "cyber": ["üîí –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "üîê Pentester"],
    "mobile": ["üì± –ú–æ–±–∏–ª—å–Ω—ã–π-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "üì± Flutter", "üì± React-Native"],
    "qa": ["üß™ QA-–ò–Ω–∂–µ–Ω–µ—Ä"],
    "design": ["üé® UI/UX-–î–∏–∑–∞–π–Ω–µ—Ä"],
    "fullstack": ["üë®‚Äçüíª Fullstack"],
    "gamedev": ["üéÆ GameDev"],
    "embedded": ["üîß Embedded"],
    "blockchain": ["ü§ñ Blockchain"]
}

# ========== –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• ==========

def init_database():
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        # –í–∫–ª—é—á–∞–µ–º WAL —Ä–µ–∂–∏–º –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
        cursor.execute('PRAGMA journal_mode=WAL;')
        cursor.execute('PRAGMA synchronous=NORMAL;')
        cursor.execute('PRAGMA cache_size=10000;')
        
        # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        cursor.execute('''
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER UNIQUE,
            username TEXT,
            first_name TEXT,
            last_name TEXT,
            first_visit TIMESTAMP,
            last_visit TIMESTAMP,
            visit_count INTEGER DEFAULT 1
        )
        ''')
        
        # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º
        cursor.execute('''
        CREATE TABLE IF NOT EXISTS specialty_stats (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            specialty_name TEXT UNIQUE,
            view_count INTEGER DEFAULT 0,
            last_viewed TIMESTAMP
        )
        ''')
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º
        for specialty in IT_SPECIALTIES.keys():
            cursor.execute('''
            INSERT OR IGNORE INTO specialty_stats (specialty_name, view_count) 
            VALUES (?, 0)
            ''', (specialty,))
        
        # –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        cursor.execute('''
        CREATE TABLE IF NOT EXISTS daily_stats (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            date DATE UNIQUE,
            new_users INTEGER DEFAULT 0,
            active_users INTEGER DEFAULT 0,
            total_views INTEGER DEFAULT 0
        )
        ''')
        
        # –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–æ–≤
        cursor.execute('''
        CREATE TABLE IF NOT EXISTS test_results (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER,
            test_date TIMESTAMP,
            results TEXT,
            recommended_specialties TEXT,
            test_time_seconds INTEGER
        )
        ''')
        
        # –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–æ–≤
        cursor.execute('''
        CREATE TABLE IF NOT EXISTS test_progress (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER UNIQUE,
            current_module TEXT,
            current_question TEXT,
            answers TEXT,
            start_time TIMESTAMP
        )
        ''')
        
        conn.commit()
        conn.close()
        logger.info("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: {e}")

def add_or_update_user(user_data):
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        now = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        today = datetime.now().strftime('%Y-%m-%d')
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤ –±–∞–∑–µ
        cursor.execute('SELECT user_id FROM users WHERE user_id = ?', (user_data['id'],))
        existing_user = cursor.fetchone()
        
        if existing_user:
            # –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            cursor.execute('''
            UPDATE users 
            SET username = ?, first_name = ?, last_name = ?, last_visit = ?, visit_count = visit_count + 1
            WHERE user_id = ?
            ''', (
                user_data.get('username'),
                user_data.get('first_name'),
                user_data.get('last_name'),
                now,
                user_data['id']
            ))
        else:
            # –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            cursor.execute('''
            INSERT INTO users (user_id, username, first_name, last_name, first_visit, last_visit, visit_count)
            VALUES (?, ?, ?, ?, ?, ?, 1)
            ''', (
                user_data['id'],
                user_data.get('username'),
                user_data.get('first_name'),
                user_data.get('last_name'),
                now,
                now
            ))
            
            # –û–±–Ω–æ–≤–ª—è–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            cursor.execute('''
            INSERT INTO daily_stats (date, new_users) 
            VALUES (?, 1)
            ON CONFLICT(date) DO UPDATE SET new_users = new_users + 1
            ''', (today,))
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        cursor.execute('''
        INSERT INTO daily_stats (date, active_users) 
        VALUES (?, 1)
        ON CONFLICT(date) DO UPDATE SET active_users = active_users + 1
        ''', (today,))
        
        conn.commit()
        logger.info(f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω: {user_data.get('username', user_data['id'])}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}")
    finally:
        conn.close()

def increment_specialty_view(specialty_name):
    """–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        now = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        today = datetime.now().strftime('%Y-%m-%d')
        
        cursor.execute('''
        UPDATE specialty_stats 
        SET view_count = view_count + 1, last_viewed = ?
        WHERE specialty_name = ?
        ''', (now, specialty_name))
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∑–∞ –¥–µ–Ω—å
        cursor.execute('''
        INSERT INTO daily_stats (date, total_views) 
        VALUES (?, 1)
        ON CONFLICT(date) DO UPDATE SET total_views = total_views + 1
        ''', (today,))
        
        conn.commit()
        logger.info(f"üëÄ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏: {specialty_name}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {e}")
    finally:
        conn.close()

def save_test_progress(user_id, module, question, answers):
    """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        now = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        answers_json = json.dumps(answers, ensure_ascii=False)
        
        cursor.execute('''
        INSERT OR REPLACE INTO test_progress 
        (user_id, current_module, current_question, answers, start_time)
        VALUES (?, ?, ?, ?, ?)
        ''', (user_id, module, question, answers_json, now))
        
        conn.commit()
        logger.info(f"üìù –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞: {e}")
    finally:
        conn.close()

def get_test_progress(user_id):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        cursor.execute('SELECT * FROM test_progress WHERE user_id = ?', (user_id,))
        result = cursor.fetchone()
        
        if result:
            return {
                'id': result[0],
                'user_id': result[1],
                'current_module': result[2],
                'current_question': result[3],
                'answers': json.loads(result[4]) if result[4] else {},
                'start_time': result[5]
            }
        return None
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞: {e}")
        return None
    finally:
        conn.close()

def delete_test_progress(user_id):
    """–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        cursor.execute('DELETE FROM test_progress WHERE user_id = ?', (user_id,))
        conn.commit()
        logger.info(f"üóëÔ∏è –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ—Å—Ç–∞ —É–¥–∞–ª–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞: {e}")
    finally:
        conn.close()

def save_test_result(user_id, results, recommended_specialties, test_time):
    """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        now = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        results_json = json.dumps(results, ensure_ascii=False)
        specialties_json = json.dumps(recommended_specialties, ensure_ascii=False)
        
        cursor.execute('''
        INSERT INTO test_results 
        (user_id, test_date, results, recommended_specialties, test_time_seconds)
        VALUES (?, ?, ?, ?, ?)
        ''', (user_id, now, results_json, specialties_json, test_time))
        
        conn.commit()
        logger.info(f"üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞: {e}")
    finally:
        conn.close()

def get_statistics():
    """–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞"""
    try:
        conn = sqlite3.connect('bot_users.db', check_same_thread=False)
        cursor = conn.cursor()
        
        # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        cursor.execute('SELECT COUNT(*) FROM users')
        total_users = cursor.fetchone()[0]
        
        # –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
        cursor.execute('''
        SELECT COUNT(*) FROM users 
        WHERE date(first_visit) >= date('now', '-7 days')
        ''')
        new_users_7days = cursor.fetchone()[0]
        
        # –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
        cursor.execute('''
        SELECT COUNT(*) FROM users 
        WHERE date(last_visit) >= date('now', '-7 days')
        ''')
        active_users_7days = cursor.fetchone()[0]
        
        # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤
        cursor.execute('SELECT COUNT(*) FROM test_results')
        total_tests = cursor.fetchone()[0]
        
        # –¢–æ–ø-5 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π
        cursor.execute('''
        SELECT specialty_name, view_count 
        FROM specialty_stats 
        ORDER BY view_count DESC 
        LIMIT 5
        ''')
        top_specialties = cursor.fetchall()
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        today = datetime.now().strftime('%Y-%m-%d')
        cursor.execute('''
        SELECT new_users, active_users, total_views 
        FROM daily_stats 
        WHERE date = ?
        ''', (today,))
        today_stats = cursor.fetchone()
        
        conn.close()
        
        return {
            'total_users': total_users,
            'new_users_7days': new_users_7days,
            'active_users_7days': active_users_7days,
            'total_tests': total_tests,
            'top_specialties': top_specialties,
            'today_stats': today_stats or (0, 0, 0)
        }
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {e}")
        return None

# ========== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –ë–û–¢–ê ==========

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    try:
        # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        user = update.effective_user
        user_data = {
            'id': user.id,
            'username': user.username,
            'first_name': user.first_name,
            'last_name': user.last_name
        }
        add_or_update_user(user_data)
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –º–µ–Ω—é (–∫–∞–∫ –≤ –∫—Ä–∏–ø—Ç–æ-–±–æ—Ç–∞—Ö)
        keyboard = [
            [InlineKeyboardButton("üéØ –í—ã–±—Ä–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å", callback_data="menu_specialties")],
            [InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")],
            [InlineKeyboardButton("üìã –û –ø—Ä–æ–µ–∫—Ç–µ", callback_data="about_project")],
            [InlineKeyboardButton("üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="show_stats")]
        ]
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        await update.message.reply_text(
            "ü§ñ *IT –í–´–ë–û–† 2026*\n\n"
            "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –Ø –ø–æ–º–æ–≥—É –≤–∞–º –≤—ã–±—Ä–∞—Ç—å IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, "
            "–∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º.\n\n"
            "üëá *–í–´–ë–ï–†–ò–¢–ï –î–ï–ô–°–¢–í–ò–ï:*",
            reply_markup=reply_markup,
            parse_mode="Markdown"
        )
        logger.info(f"üöÄ –°—Ç–∞—Ä—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user.id}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ start: {e}")
        await update.message.reply_text("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")

async def show_stats(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        stats = get_statistics()
        
        if not stats:
            await update.message.reply_text("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.")
            return
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        stats_text = "üìä *–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ë–û–¢–ê*\n\n"
        stats_text += f"üë• *–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:* {stats['total_users']}\n"
        stats_text += f"üÜï *–ù–æ–≤—ã–µ –∑–∞ 7 –¥–Ω–µ–π:* {stats['new_users_7days']}\n"
        stats_text += f"üî• *–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ 7 –¥–Ω–µ–π:* {stats['active_users_7days']}\n"
        stats_text += f"üß™ *–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:* {stats['total_tests']}\n\n"
        
        stats_text += "üìà *–°–ï–ì–û–î–ù–Ø*\n"
        stats_text += f"‚Ä¢ –ù–æ–≤—ã–µ: {stats['today_stats'][0]}\n"
        stats_text += f"‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã–µ: {stats['today_stats'][1]}\n"
        stats_text += f"‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: {stats['today_stats'][2]}\n\n"
        
        stats_text += "üèÜ *–¢–û–ü-5 –°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–ï–ô*\n"
        for i, (specialty, views) in enumerate(stats['top_specialties'], 1):
            stats_text += f"{i}. {specialty}: {views} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤\n"
        
        # –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞
        keyboard = [
            [InlineKeyboardButton("üîÑ –û–±–Ω–æ–≤–∏—Ç—å", callback_data="refresh_stats")],
            [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                stats_text, 
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        else:
            await update.message.reply_text(
                stats_text, 
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_stats: {e}")
        error_msg = "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏."
        if update.callback_query:
            await update.callback_query.edit_message_text(error_msg)
        else:
            await update.message.reply_text(error_msg)

async def show_inline_menu(update: Update, context: ContextTypes.DEFAULT_TYPE, message_text="üéØ *–í–´–ë–ï–†–ò–¢–ï IT-–°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–¨:*"):
    """–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π –≤ –≤–∏–¥–µ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–æ–∫"""
    try:
        # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π (–ø–æ 2 –≤ —Ä—è–¥—É)
        keyboard = []
        specialties_list = list(IT_SPECIALTIES.keys())
        
        # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Ä—è–¥—ã –ø–æ 2 –∫–Ω–æ–ø–∫–∏
        for i in range(0, len(specialties_list), 2):
            row = []
            if i < len(specialties_list):
                row.append(InlineKeyboardButton(
                    specialties_list[i], 
                    callback_data=f"info_{specialties_list[i]}"
                ))
            if i + 1 < len(specialties_list):
                row.append(InlineKeyboardButton(
                    specialties_list[i + 1], 
                    callback_data=f"info_{specialties_list[i + 1]}"
                ))
            if row:
                keyboard.append(row)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
        keyboard.append([InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")])
        keyboard.append([InlineKeyboardButton("üìã –û –ø—Ä–æ–µ–∫—Ç–µ", callback_data="about_project")])
        keyboard.append([InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")])
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        full_text = message_text + "\n\n"
        full_text += f"–í—Å–µ–≥–æ: *{len(IT_SPECIALTIES)} —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π*\n"
        full_text += "üìç *–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏*\n\n"
        full_text += "üéØ *–£–ñ–ï –î–û–°–¢–£–ü–ù–´ –î–õ–Ø –ò–ó–£–ß–ï–ù–ò–Ø:*\n"
        full_text += "‚Ä¢ üß† AI/ML-–ò–Ω–∂–µ–Ω–µ—Ä\n"
        full_text += "‚Ä¢ üåê –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫\n"
        full_text += "‚Ä¢ ü§ñ Data-Science\n"
        full_text += "‚Ä¢ üîí –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n\n"
        full_text += "*–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ...*"
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                full_text,
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        else:
            await update.message.reply_text(
                full_text,
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_inline_menu: {e}")

async def show_about_project(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ"""
    try:
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
        keyboard = [
            [InlineKeyboardButton("üéØ –í—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", callback_data="menu_specialties")],
            [InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")],
            [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
        ]
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                ABOUT_PROJECT,
                reply_markup=reply_markup
            )
        else:
            await update.message.reply_text(
                ABOUT_PROJECT,
                reply_markup=reply_markup
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_about_project: {e}")

async def show_help(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ö–æ–º–∞–Ω–¥–∞ –ø–æ–º–æ—â–∏"""
    try:
        help_text = """ü§ñ IT –í–´–ë–û–† 2026

üéØ –ù–ê–®–ê –ì–õ–ê–í–ù–ê–Ø –¶–ï–õ–¨:
–ü–æ–º–æ—á—å –∫–∞–∂–¥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –Ω–∞–π—Ç–∏ —Å–≤–æ—é –∏–¥–µ–∞–ª—å–Ω—É—é IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, 
–æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –Ω–∞–≤—ã–∫–∞—Ö, –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ —Ä—ã–Ω–æ—á–Ω–æ–º —Å–ø—Ä–æ—Å–µ!

üß™ *–ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –¢–ï–°–¢ –ù–ê –ü–†–û–§–û–†–ò–ï–ù–¢–ê–¶–ò–Æ*
‚Ä¢ 12 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ 4 –º–æ–¥—É–ª—è–º
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∏ –Ω–∞–≤—ã–∫–æ–≤
‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

‚ö†Ô∏è –ë–û–¢ –ù–ê–•–û–î–ò–¢–°–Ø –ù–ê –°–¢–ê–î–ò–ò –†–ê–ó–†–ê–ë–û–¢–ö–ò!

üí° –í –°–õ–£–ß–ê–ï –í–û–ó–ù–ò–ö–ù–û–í–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú / –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ô     
üë®‚Äçüíª –ö–æ–Ω—Ç–∞–∫—Ç: @krylov19"""
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
        keyboard = [
            [InlineKeyboardButton("üéØ –í—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", callback_data="menu_specialties")],
            [InlineKeyboardButton("üìã –û –ø—Ä–æ–µ–∫—Ç–µ", callback_data="about_project")],
            [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
        ]
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        if update.callback_query:
            await update.callback_query.edit_message_text(help_text, reply_markup=reply_markup)
        else:
            await update.message.reply_text(help_text, reply_markup=reply_markup)
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_help: {e}")

def split_message(text, max_length=4000):
    """–†–∞–∑–¥–µ–ª–∏—Ç—å –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏"""
    if len(text) <= max_length:
        return [text]
    
    parts = []
    while len(text) > max_length:
        split_point = text[:max_length].rfind('\n')
        if split_point == -1:
            split_point = max_length
        parts.append(text[:split_point].strip())
        text = text[split_point:].strip()
    
    if text:
        parts.append(text)
    
    return parts

async def show_specialty_info(update: Update, context: ContextTypes.DEFAULT_TYPE, specialty_name):
    """–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏"""
    try:
        if specialty_name in SPECIALTY_DETAILS:
            info_text = SPECIALTY_DETAILS[specialty_name]
            increment_specialty_view(specialty_name)
            
            keyboard = [
                [InlineKeyboardButton("üéØ –í—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", callback_data="menu_specialties")],
                [InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")],
                [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
            ]
            
            reply_markup = InlineKeyboardMarkup(keyboard)
            
            if len(info_text) > 4000:
                parts = split_message(info_text, 4000)
                # –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
                await update.callback_query.edit_message_text(parts[0], reply_markup=reply_markup)
                # –û—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏
                for part in parts[1:]:
                    await update.callback_query.message.reply_text(part)
            else:
                await update.callback_query.edit_message_text(info_text, reply_markup=reply_markup)
            
            logger.info(f"üìö –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∞: {specialty_name}")
        
        elif specialty_name in IT_SPECIALTIES:
            keyboard = [
                [InlineKeyboardButton("üéØ –í—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", callback_data="menu_specialties")],
                [InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")],
                [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
            ]
            
            reply_markup = InlineKeyboardMarkup(keyboard)
            
            info_text = f"üéØ *{specialty_name}*\n\n{INFO_IN_DEVELOPMENT}"
            increment_specialty_view(specialty_name)
            
            await update.callback_query.edit_message_text(
                info_text, 
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
            logger.info(f"üìù –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: {specialty_name}")
            
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_specialty_info: {e}")
        await update.callback_query.edit_message_text("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")

async def show_main_menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    try:
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –º–µ–Ω—é
        keyboard = [
            [InlineKeyboardButton("üéØ –í—ã–±—Ä–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å", callback_data="menu_specialties")],
            [InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç", callback_data="start_test")],
            [InlineKeyboardButton("üìã –û –ø—Ä–æ–µ–∫—Ç–µ", callback_data="about_project")],
            [InlineKeyboardButton("üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="show_stats")]
        ]
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                "üëá *–í–´–ë–ï–†–ò–¢–ï –î–ï–ô–°–¢–í–ò–ï:*",
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        else:
            await update.message.reply_text(
                "üëá *–í–´–ë–ï–†–ò–¢–ï –î–ï–ô–°–¢–í–ò–ï:*",
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ show_main_menu: {e}")

# ========== –§–£–ù–ö–¶–ò–ò –¢–ï–°–¢–ê ==========

async def start_test(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç"""
    try:
        user_id = update.effective_user.id
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç
        progress = get_test_progress(user_id)
        if progress:
            keyboard = [
                [InlineKeyboardButton("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç", callback_data="continue_test")],
                [InlineKeyboardButton("–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", callback_data="restart_test")],
                [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
            ]
            reply_markup = InlineKeyboardMarkup(keyboard)
            
            if update.callback_query:
                await update.callback_query.edit_message_text(
                    "üìù –£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç.\n–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–ª–∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?",
                    reply_markup=reply_markup
                )
            else:
                await update.message.reply_text(
                    "üìù –£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç.\n–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–ª–∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?",
                    reply_markup=reply_markup
                )
            return
        
        # –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
        keyboard = [
            [InlineKeyboardButton("üîµ –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç", callback_data="begin_test")],
            [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        test_intro = "üß† *IT –í–´–ë–û–†: –¢–µ—Å—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ IT-–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏*\n\n"
        test_intro += "üìä *–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞:*\n"
        test_intro += "‚Ä¢ 12 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ 4 –º–æ–¥—É–ª—è–º\n"
        test_intro += "‚Ä¢ –í—Ä–µ–º—è: 10-15 –º–∏–Ω—É—Ç\n"
        test_intro += "‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏\n\n"
        test_intro += "üîµ *–ú–æ–¥—É–ª—å 1:* –õ–∏—á–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è\n"
        test_intro += "üü¢ *–ú–æ–¥—É–ª—å 2:* –ù–∞–≤—ã–∫–∏ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏\n"
        test_intro += "üü° *–ú–æ–¥—É–ª—å 3:* –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è\n"
        test_intro += "üî¥ *–ú–æ–¥—É–ª—å 4:* –¶–µ–ª–∏ –∏ –æ–∂–∏–¥–∞–Ω–∏—è\n\n"
        test_intro += "üìù *–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:*\n"
        test_intro += "‚Ä¢ –ü–æ–¥—Ö–æ–¥—è—â–∏–µ IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏\n"
        test_intro += "‚Ä¢ –°–æ–≤–µ—Ç—ã –ø–æ –æ–±—É—á–µ–Ω–∏—é\n"
        test_intro += "‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é\n\n"
        test_intro += "‚è± *–í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è: 10-15 –º–∏–Ω—É—Ç*"
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                test_intro,
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        else:
            await update.message.reply_text(
                test_intro,
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ start_test: {e}")

async def handle_test_start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∞"""
    try:
        user_id = update.effective_user.id
        
        if update.callback_query.data == "restart_test":
            delete_test_progress(user_id)
        
        # –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç —Å –ø–µ—Ä–≤–æ–≥–æ –º–æ–¥—É–ª—è
        save_test_progress(user_id, "module1", "q1", {})
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
        await send_test_question(update, context, "module1", "q1")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ handle_test_start: {e}")

async def send_test_question(update: Update, context: ContextTypes.DEFAULT_TYPE, module, question):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å–∞
        module_data = TEST_QUESTIONS[module]
        question_data = None
        
        for q in module_data["questions"]:
            if q["id"] == question:
                question_data = q
                break
        
        if not question_data:
            if update.callback_query:
                await update.callback_query.edit_message_text("‚ùå –û—à–∏–±–∫–∞: –≤–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        keyboard = []
        for key, text in question_data["options"].items():
            keyboard.append([InlineKeyboardButton(text, callback_data=f"test_{module}_{question}_{key}")])
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å
        module_number = module[-1]  # module1 -> 1, module2 -> 2, etc
        question_text = f"‚úèÔ∏è *–ú–æ–¥—É–ª—å {module_number}: {module_data['name']}*\n\n"
        question_text += f"{question_data['text']}"
        
        if update.callback_query:
            await update.callback_query.edit_message_text(
                question_text,
                reply_markup=reply_markup,
                parse_mode="Markdown"
            )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ send_test_question: {e}")

async def handle_test_answer(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞"""
    try:
        query = update.callback_query
        await query.answer()
        
        user_id = query.from_user.id
        data = query.data.replace("test_", "").split("_")
        
        if len(data) != 3:
            return
        
        module, question, answer = data
        
        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
        progress = get_test_progress(user_id)
        if not progress:
            await query.edit_message_text("‚ùå –°–µ—Å—Å–∏—è —Ç–µ—Å—Ç–∞ —É—Å—Ç–∞—Ä–µ–ª–∞. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ.")
            return
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
        answers = progress['answers']
        answers[f"{module}_{question}"] = answer
        save_test_progress(user_id, module, question, answers)
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        module_data = TEST_QUESTIONS[module]["questions"]
        current_index = next((i for i, q in enumerate(module_data) if q["id"] == question), -1)
        
        if current_index + 1 < len(module_data):
            # –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –≤ —Ç–æ–º –∂–µ –º–æ–¥—É–ª–µ
            next_question = module_data[current_index + 1]["id"]
            save_test_progress(user_id, module, next_question, answers)
            await send_test_question_from_query(query, context, module, next_question)
        else:
            # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–æ–¥—É–ª—é
            modules = list(TEST_QUESTIONS.keys())
            current_module_index = modules.index(module)
            
            if current_module_index + 1 < len(modules):
                # –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å
                next_module = modules[current_module_index + 1]
                first_question = TEST_QUESTIONS[next_module]["questions"][0]["id"]
                save_test_progress(user_id, next_module, first_question, answers)
                await send_test_question_from_query(query, context, next_module, first_question)
            else:
                # –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω
                await finish_test(query, context, answers)
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ handle_test_answer: {e}")

async def send_test_question_from_query(query, context: ContextTypes.DEFAULT_TYPE, module, question):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞ –∏–∑ callback query"""
    try:
        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å–∞
        module_data = TEST_QUESTIONS[module]
        question_data = None
        
        for q in module_data["questions"]:
            if q["id"] == question:
                question_data = q
                break
        
        if not question_data:
            await query.edit_message_text("‚ùå –û—à–∏–±–∫–∞: –≤–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        keyboard = []
        for key, text in question_data["options"].items():
            keyboard.append([InlineKeyboardButton(text, callback_data=f"test_{module}_{question}_{key}")])
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        module_number = module[-1]
        question_text = f"‚úèÔ∏è *–ú–æ–¥—É–ª—å {module_number}: {module_data['name']}*\n\n"
        question_text += f"{question_data['text']}"
        
        await query.edit_message_text(
            question_text,
            reply_markup=reply_markup,
            parse_mode="Markdown"
        )
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ send_test_question_from_query: {e}")

def calculate_results(answers):
    """–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞"""
    scores = {
        "frontend": 0, "backend": 0, "data": 0, "ai": 0,
        "devops": 0, "cyber": 0, "mobile": 0, "qa": 0,
        "design": 0, "fullstack": 0, "gamedev": 0,
        "embedded": 0, "blockchain": 0
    }
    
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç
    for answer_key, answer_value in answers.items():
        question_id = answer_key.split("_")[1]  # module1_q1 -> q1
        
        if question_id in ANSWER_WEIGHTS and answer_value in ANSWER_WEIGHTS[question_id]:
            weights = ANSWER_WEIGHTS[question_id][answer_value]
            
            for category, weight in weights.items():
                if category == "all":
                    # –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                    for cat in scores:
                        scores[cat] += weight
                elif category in scores:
                    scores[category] += weight
    
    # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –±–∞–ª–ª—ã –¥–æ 100 (–±–æ–ª–µ–µ —á–µ—Ç–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
    total_score = sum(scores.values())
    if total_score > 0:
        for category in scores:
            scores[category] = int((scores[category] / total_score) * 100)
    
    return scores

def get_recommended_specialties(results):
    """–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏"""
    recommendations = []
    
    # –î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –±–∞–ª–ª–æ–º > 30 –¥–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
    for category, score in results.items():
        if score > 30 and category in SPECIALTY_CATEGORIES:
            for specialty in SPECIALTY_CATEGORIES[category]:
                if specialty not in [r[0] for r in recommendations]:
                    recommendations.append((specialty, score))
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é –±–∞–ª–ª–æ–≤
    recommendations.sort(key=lambda x: x[1], reverse=True)
    
    return recommendations[:5]  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–ø-5

def get_advice_for_category(category):
    """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é"""
    advice = {
        "frontend": "‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ –≤–µ—Ä—Å—Ç–∫–µ HTML/CSS\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ JavaScript –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏\n‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ",
        "backend": "‚Ä¢ –û—Å–≤–æ–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (Python, Java, Go)\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ SQL\n‚Ä¢ –ü–æ—Å—Ç—Ä–æ–π—Ç–µ REST API –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞",
        "data": "‚Ä¢ –£–≥–ª—É–±–∏—Ç–µ—Å—å –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É\n‚Ä¢ –û—Å–≤–æ–π—Ç–µ Python –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n‚Ä¢ –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ Kaggle competitions",
        "ai": "‚Ä¢ –ü—Ä–æ–π–¥–∏—Ç–µ –∫—É—Ä—Å—ã –ø–æ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ PyTorch/TensorFlow\n‚Ä¢ –†–µ—à–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –ø–æ–º–æ—â—å—é AI",
        "devops": "‚Ä¢ –û—Å–≤–æ–π—Ç–µ Linux –∏ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ Docker –∏ Kubernetes\n‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤",
        "cyber": "‚Ä¢ –ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã —Å–µ—Ç–µ–π –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã\n‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö —Ç–∏–ø–∞ HackTheBox\n‚Ä¢ –û—Å–≤–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ",
        "mobile": "‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (iOS/Android) –∏–ª–∏ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º—É\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —è–∑—ã–∫/SDK\n‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π",
        "qa": "‚Ä¢ –ò–∑—É—á–∏—Ç–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n‚Ä¢ –û—Å–≤–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏\n‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤",
        "design": "‚Ä¢ –û—Å–≤–æ–π—Ç–µ Figma –∏–ª–∏ Sketch\n‚Ä¢ –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã UI/UX –¥–∏–∑–∞–π–Ω–∞\n‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞"
    }
    
    return advice.get(category, "‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å\n‚Ä¢ –ò–∑—É—á–∞–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏\n‚Ä¢ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ")

async def finish_test(query, context: ContextTypes.DEFAULT_TYPE, answers):
    """–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"""
    try:
        user_id = query.from_user.id
        
        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        results = calculate_results(answers)
        recommended = get_recommended_specialties(results)
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        test_time = int(time.time() - datetime.strptime(
            get_test_progress(user_id)['start_time'], 
            '%Y-%m-%d %H:%M:%S'
        ).timestamp()) if get_test_progress(user_id) else 600
        
        save_test_result(user_id, results, recommended, test_time)
        
        # –£–¥–∞–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        delete_test_progress(user_id)
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
        message = "üéâ *–¢–ï–°–¢ –ó–ê–í–ï–†–®–ï–ù!*\n\n"
        message += "üìä *–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:*\n\n"
        
        # –¢–æ–ø-3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –±–æ–ª–µ–µ —á–µ—Ç–∫–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
        top_categories = sorted(results.items(), key=lambda x: x[1], reverse=True)[:3]
        for category, score in top_categories:
            # –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            display_score = round(score)
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
            progress_bar = "‚ñ∞" * (display_score // 10) + "‚ñ±" * (10 - (display_score // 10))
            message += f"‚Ä¢ *{category.capitalize()}*: {display_score}% {progress_bar}\n"
        
        message += "\nüéØ *–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:*\n\n"
        
        # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
        for i, (specialty, score) in enumerate(recommended, 1):
            match_score = round(min(100, score))
            # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
            progress_bar = "‚ñ∞" * (match_score // 10) + "‚ñ±" * (10 - (match_score // 10))
            message += f"{i}. *{specialty}* - {match_score}% {progress_bar}\n"
        
        message += "\nüìà *–°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é:*\n"
        
        # –°–æ–≤–µ—Ç—ã –¥–ª—è —Ç–æ–ø-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        if top_categories:
            top_category = top_categories[0][0]
            message += get_advice_for_category(top_category)
        
        message += "\nüí° *–ß—Ç–æ –¥–∞–ª—å—à–µ?*\n"
        message += "1. –ò–∑—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º\n"
        message += "2. –ù–∞—á–Ω–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é\n"
        message += "3. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ\n"
        message += "4. –ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü\n\n"
        message += "üëá *–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:*"
        
        # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
        keyboard = []
        for specialty, score in recommended:
            keyboard.append([InlineKeyboardButton(
                f"üìñ {specialty} ({round(min(100, score))}%)", 
                callback_data=f"info_{specialty}"
            )])
        
        keyboard.append([InlineKeyboardButton("üß™ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ", callback_data="restart_test")])
        keyboard.append([InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")])
        
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        await query.edit_message_text(
            message,
            reply_markup=reply_markup,
            parse_mode="Markdown"
        )
        
        logger.info(f"‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ finish_test: {e}")
        await query.edit_message_text("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞.")

async def handle_callback_query(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback query"""
    try:
        query = update.callback_query
        data = query.data
        
        if data == "menu_specialties":
            await show_inline_menu(update, context)
        
        elif data == "start_test":
            await start_test(update, context)
        
        elif data == "continue_test":
            progress = get_test_progress(query.from_user.id)
            if progress:
                await send_test_question(update, context, 
                                       progress['current_module'], 
                                       progress['current_question'])
            else:
                await start_test(update, context)
        
        elif data == "begin_test" or data == "restart_test":
            await handle_test_start(update, context)
        
        elif data == "about_project":
            await show_about_project(update, context)
        
        elif data == "show_stats":
            await show_stats(update, context)
        
        elif data == "refresh_stats":
            await show_stats(update, context)
        
        elif data == "main_menu":
            await show_main_menu(update, context)
        
        elif data.startswith("info_"):
            specialty_name = data[5:]  # –£–±–∏—Ä–∞–µ–º "info_"
            await show_specialty_info(update, context, specialty_name)
        
        elif data.startswith("test_"):
            await handle_test_answer(update, context)
        
        else:
            await query.answer("–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞")
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ handle_callback_query: {e}")

async def stats_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ö–æ–º–∞–Ω–¥–∞ /stats –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤"""
    try:
        user_id = update.effective_user.id
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤)
        ADMIN_IDS = []  # –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä: [123456789, 987654321]
        
        if user_id not in ADMIN_IDS:
            await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ.")
            return
        
        await show_stats(update, context)
        
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –≤ stats_command: {e}")

async def error_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫"""
    try:
        logger.error(f"üî• –û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ: {context.error}")
        
        if update and update.effective_message:
            # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
            keyboard = [
                [InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", callback_data="main_menu")]
            ]
            reply_markup = InlineKeyboardMarkup(keyboard)
            
            if update.callback_query:
                await update.callback_query.edit_message_text(
                    "üòî –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ @krylov19",
                    reply_markup=reply_markup
                )
            else:
                await update.effective_message.reply_text(
                    "üòî –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ @krylov19",
                    reply_markup=reply_markup
                )
    except Exception as e:
        logger.error(f"üî• –û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –æ—à–∏–±–æ–∫: {e}")

def main():
    """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    try:
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        init_database()
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è Render –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
        health_thread = threading.Thread(target=start_health_server, daemon=True)
        health_thread.start()
        logger.info("‚úÖ HTTP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω")
        
        # –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        app = Application.builder().token(TOKEN).build()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
        app.add_error_handler(error_handler)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
        app.add_handler(CommandHandler("start", start))
        app.add_handler(CommandHandler("help", show_help))
        app.add_handler(CommandHandler("about", show_about_project))
        app.add_handler(CommandHandler("stats", stats_command))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback query
        app.add_handler(CallbackQueryHandler(handle_callback_query))
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
        logger.info("=" * 60)
        logger.info("ü§ñ IT –í–´–ë–û–† 2026 - –ë–û–¢ –ó–ê–ü–£–©–ï–ù")
        logger.info(f"üìä –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π: {len(IT_SPECIALTIES)}")
        logger.info("üß™ –¢–µ—Å—Ç –Ω–∞ –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é: –î–û–°–¢–£–ü–ï–ù")
        logger.info("üéØ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!")
        logger.info("=" * 60)
        
        app.run_polling(allowed_updates=Update.ALL_TYPES, drop_pending_updates=True)
        
    except Exception as e:
        logger.error(f"üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞: {e}")
        raise

if __name__ == "__main__":
    main()
